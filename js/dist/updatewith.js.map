{"version":3,"file":"updatewith.js","sources":["../src/ajah.js","../src/updateWith.js"],"sourcesContent":["////////////////////////////////////////////////////////////////////////////////////\n////////////////////////////////////////////////////////////////////////////////////\n////////////////////////////////////////////////////////////////////////////////////\n// AJAH Queue Manager (Asynchronous Javascript and HTML for server side rendering)\n// Copyright Mike Agar 2014\n// MIT License\n\n\t//POLYFILL for IE9+ to add remove() function. see: https://developer.mozilla.org/en-US/docs/Web/API/ChildNode/remove\n\t(function (arr) {\n\t\tarr.forEach(function (item) {\n\t\t\tif (item.hasOwnProperty('remove')) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tObject.defineProperty(item, 'remove', {\n\t\t\t\tconfigurable: true,\n\t\t\t\tenumerable: true,\n\t\t\t\twritable: true,\n\t\t\t\tvalue: function remove() {\n\t\t\t\t\tif (this.parentNode === null) {\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t\tthis.parentNode.removeChild(this);\n\t\t\t\t}\n\t\t\t});\n\t\t});\n\t})([Element.prototype, CharacterData.prototype, DocumentType.prototype]);\n\nfunction Ajah(){\n\t//STATE\n\tthis.debug = true;\n\tthis.waiting = new Array(0);\n\tthis.upload = new Array(0); //low priority File Upload Queue\n\tthis.uploadActive = false;\n\tthis.active = new Array(0);\n\tthis.max_active = 2; //MSIE max concurrent requests.  Some browsers can do more, we should consider dynamically changing this...\n\tthis.intervalID = null; //timer ID, used to shutdown when waiting queue is empty.\n\tthis.id = 0; //trick to keep browser from caching results; future use could be to use the id to cancel requests.\n\n}\n\n//////////////////////////////////////////\n// AJAX Helper Functions\n\nAjah.prototype.log = function(msg){\n\tif(ajah.debug){\n\t\tconsole.log(\"AJAX[\"+this.active.length+\"] \"+msg);\n\t}\n};\n\n\nAjah.prototype.stopMonitor = function(){\n\tif(ajah.waiting.length===0 && ajah.upload.length===0){\n\t\tif(this.intervalID){\n\t\t\t//shut down the timer;\n\t\t\twindow.clearInterval(this.intervalID);\n\t\t\tthis.intervalID=null;\n\t\t\tthis.log(\"<<< Stopping interval timer.\");\n\n\t\t\t//Hide background spinner\n\t\t\t$(\"body\").css(\"cursor\",\"auto\");\n\t\t}\n\t}\n};\n\nAjah.prototype.startMonitor = function(){\n\tif(!this.intervalID){\n\t\t//start the interval to poll for open slot\n\t\tthis.intervalID = window.setInterval(function(){ajah.processWaiting();},50); //50ms polling\n\t\taInitialized = true;\n\t\tthis.log(\">>> Starting interval timer.\");\n\n\t\t//Show background spinner\n\t\t$(\"body\").css(\"cursor\",\"progress\");\n\t}\n};\n\nAjah.prototype.finish = function(url){\n\t//Remove url from active queue.\n\tfunction remove(val,from) {\n\t\tfor (var i = 0; i < from.length; i++) {\n\t\t\tif (from[i] === val) {\n\t\t\t\tfrom.splice(i, 1);\n\t\t\t\ti--;\n\t\t\t}\n\t\t}\n\t\treturn from;\n\t}\n\n\tajah.active = remove(url,ajah.active);\n};\n\n//HACK: There can be only one!  (id=session_override)\nAjah.prototype.processSO = function(raw){\n\tvar parser = new DOMParser();\n\tvar html = parser.parseFromString(raw,'text/html');\n\tvar newSO;\n\tvar oldSO;\n\thtml.innerHTML = raw;\n\tif(oldSO = document.getElementById('session_override')){\n\t\t//Found an old Session Override\n\t\tif(newSO = html.getElementById('session_override')){\n\t\t\t//Found a New SO, update the old one, and remove the new one from the RAW result\n\t\t\toldSO.innerHTML = newSO.innerHTML;\n\t\t\tnewSO.remove();\n\t\t}\n\t}\n\treturn html.innerHTML;\n};\n\nAjah.prototype.processWaiting = function (){\n\n\tfunction getXmlHttpObject(){\n\t\tvar xmlHttp=null;\n\t\ttry{\n\t\t\t// Firefox, Opera 8.0+, Safari\n\t\t\txmlHttp=new XMLHttpRequest();\n\t\t}catch (e1){\n\t\t\t// Internet Explorer\n\t\t\ttry{\n\t\t\t\txmlHttp=new ActiveXObject(\"Msxml2.XMLHTTP\");\n\t\t\t}catch (e2) {\n\t\t\t\txmlHttp=new ActiveXObject(\"Microsoft.XMLHTTP\");\n\t\t\t}\n\t\t}\n\t\treturn xmlHttp;\n\t}\n\n\tfunction parseURL(url) {\n\t\t//CREDIT: http://james.padolsey.com/javascript/parsing-urls-with-the-dom/\n\t\tvar a =  document.createElement('a');\n\t\ta.href = url;\n\t\treturn {\n\t\t\tsource: url,\n\t\t\tprotocol: a.protocol.replace(':',''),\n\t\t\thost: a.hostname,\n\t\t\tport: a.port,\n\t\t\tquery: a.search,\n\t\t\tparams: (function(){\n\t\t\t\tvar ret = {},\n\t\t\t\t\tseg = a.search.replace(/^\\?/,'').split('&'),\n\t\t\t\t\tlen = seg.length, i = 0, s;\n\t\t\t\tfor (;i<len;i++) {\n\t\t\t\t\tif (!seg[i]) { continue; }\n\t\t\t\t\ts = seg[i].split('=');\n\t\t\t\t\tret[s[0]] = s[1];\n\t\t\t\t}\n\t\t\t\treturn ret;\n\t\t\t})(),\n\t\t\tfile: (a.pathname.match(/\\/([^\\/?#]+)$/i) || [,''])[1],\n\t\t\thash: a.hash.replace('#',''),\n\t\t\tpath: a.pathname.replace(/^([^\\/])/,'/$1'),\n\t\t\trelative: (a.href.match(/tps?:\\/\\/[^\\/]+(.+)/) || [,''])[1],\n\t\t\tsegments: a.pathname.replace(/^\\//,'').split('/')\n\t\t};\n\t}\n\n\n\tfunction appendId(url){\n\t\tvar out;\n\t\tvar cache_hack;\n\t\tvar parts;\n\t\tvar session_override;\n\t\t//HACK: ensures all AJAXy transactions are not cached, since the URL is ever changing...\n\t\tajah.id++;\n\t\tcache_hack = ajah.id + Math.random();\n\t\tparts = parseURL(url);\n\t\tif(parts.query.length === 0){\n\t\t\tajah.log(\"Ajah.processWaiting() URL Missing query, adding one now.\");\n\t\t\tout = url+\"?ajah=\"+cache_hack;\n\t\t}else{\n\t\t\tout = url+\"&ajah=\"+cache_hack;\n\t\t}\n\n\t\t//HACK: Third Party Cookies are dying, so we are going to add the Session Override to the URL (session_override)\n\t\tif(session_override = document.getElementById( \"session_override\" )){\n\t\t\tout = out+\"&session_override=\"+session_override.innerHTML;\n\t\t}\n\n\t\treturn out;\n\t}\n\n\n\tif(this.active.length < this.max_active){\n\t\tvar request;\n\n\t\tif (this.waiting[0]) {\n\t\t\trequest = this.waiting.shift();\n\n\t\t\tvar xmlHttp=null;\n\t\t\txmlHttp=getXmlHttpObject();\n\t\t\tif (xmlHttp===null){\n\t\t\t\tthis.log(\"Failed to GetHttpObject, Aborting.\");\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t//Move it to the active queue\n\t\t\tthis.active.push(request.url);\n\n\t\t\t//custom lambda function to handle this request\n\t\t\t//Calls the \"func\" with whatever is at the endpoint \"url\"\n\t\t\txmlHttp.onreadystatechange= function () {\n\t\t\t\tvar content;\n\t\t\t\tif (xmlHttp.readyState == 4) {\n\t\t\t\t\tswitch(xmlHttp.status){\n\t\t\t\t\t\tcase 200:\n\t\t\t\t\t\t\t//HACK: we can only have one active SO id, \n\t\t\t\t\t\t\t//      so update the current one, and remove it from the response\n\t\t\t\t\t\t\tcontent = ajah.processSO(xmlHttp.responseText);\n\t\t\t\t\t\t\t//success do what was asked\n\t\t\t\t\t\t\trequest.func(content);\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tdefault:\n\t\t\t\t\t\t\tajah.log(\"Server Error Code \"+xmlHttp.status+\" on url \"+request.url);\n\t\t\t\t\t}\n\n\t\t\t\t\t//and then clean up active queue\n\t\t\t\t\tajah.finish(request.url);\n\t\t\t\t\tajah.stopMonitor();\n\t\t\t\t}\n\t\t\t};\n\t\t\txmlHttp.open(\"POST\",appendId(request.url),true);\n\t\t\tif(request.hasOwnProperty('params')){\n\t\t\t\txmlHttp.setRequestHeader(\"Content-type\",\"application/x-www-form-urlencoded\");\n\t\t\t\txmlHttp.send(request.params);\n\t\t\t}else{\n\t\t\t\txmlHttp.send(null);\n\t\t\t}\n\t\t}else if(this.upload[0]){\n\t\t\t//File upload queue.  only do one file upload at a time, \n\t\t\t//never use more than one of the available AJAX threads\n\t\t\tif(!this.uploadActive){\n\t\t\t\trequest = this.upload.shift();\n\n\t\t\t\tvar XHR=null;\n\t\t\t\tXHR=getXmlHttpObject();\n\t\t\t\tif (XHR===null){\n\t\t\t\t\tthis.log(\"Failed to GetHttpObject, Aborting.\");\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\t//Move it to the active queue\n\t\t\t\tthis.active.push(request.url);\n\t\t\t\tthis.uploadActive = true;\n\n\t\t\t\t//custom lambda function to handle this request\n\t\t\t\t//Calls the \"func\" with whatever is at the endpoint \"url\"\n\t\t\t\tXHR.onreadystatechange = function () {\n\t\t\t\t\tif (XHR.readyState == 4) {\n\t\t\t\t\t\tswitch(XHR.status){\n\t\t\t\t\t\t\tcase 200:\n\t\t\t\t\t\t\t\t//HACK: we can only have one active SO id, \n\t\t\t\t\t\t\t\t//      so update the current one, and remove it from the response\n\t\t\t\t\t\t\t\tcontent = ajah.processSO(xmlHttp.responseText);\n\t\t\t\t\t\t\t\t//success do what was asked\n\t\t\t\t\t\t\t\trequest.func(content);\n\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\tdefault:\n\t\t\t\t\t\t\t\tajah.log(\"Server Error Code \"+XHR.status+\" on url \"+request.url+\" (file upload)\");\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t//and then clean up active queue\n\t\t\t\t\t\tajah.uploadActive = false;\n\t\t\t\t\t\tajah.finish(request.url);\n\t\t\t\t\t\tajah.stopMonitor();\n\t\t\t\t\t}\n\t\t\t\t};\n\n\t\t\t\tXHR.open(\"POST\", appendId(request.url)+\"&AJAX_FILENAME=\"+request.file.name, true);\n\t\t\t\tXHR.send(request.file);\n\t\t\t}else{\n\t\t\t\t//busy, so make sure the monitor is running...\n\t\t\t\tthis.startMonitor();\n\t\t\t}\n\t\t}\n\t}else{\n\t\t//make sure the background handler is running.\n\t\tthis.startMonitor();\n\t}\n\n};\n\n\n\n//////////////////////////////////////////////////////////////\n// AJAX Interface\nAjah.prototype.inQueue = function(url){\n\t//Check Active queue\n\tfor (var i = 0; i < this.active.length; i++) {\n\t\tif (this.active[i] === url) return true;\n\t}\n\t//Check Waiting queue\n\tfor (var j=0; j < this.waiting.length; j++) {\n\t\tif (this.waiting[j].url === url) return true;\n\t}\n\t//Check Upload queue\n\tfor (var k=0; k < this.upload.length; k++) {\n\t\tif (this.upload[k].url === url) return true;\n\t}\n\treturn false;\n};\n\nAjah.prototype.Busy = function(){\n\treturn this.active.length > 0;\n};\n\n\nAjah.prototype.DoWith = function(func,url){\n\tif(!this.inQueue(url)){\n\t\tthis.log(\"DoWith() on \"+url);\n\t\tthis.waiting.push({func: func, url:  url});\n\t\twindow.setTimeout(function(){ajah.processWaiting();},1);\n\t}else{\n\t\tthis.log(\"DoWith() URL already queued. Skipping this \"+url);\n\t}\n};\n\nAjah.prototype.DoWithPost = function(func,url,params){\n\tif(!this.inQueue(url)){\n\t\tthis.log(\"DoWith() on \"+url);\n\t\tthis.waiting.push({func: func, url:  url, params: params});\n\t\twindow.setTimeout(function(){ajah.processWaiting();},1);\n\t}else{\n\t\tthis.log(\"DoWith() URL already queued. Skipping this \"+url);\n\t}\n};\n\nAjah.prototype.Send = function (url){\n\tthis.log(\"Send() on \"+url);\n\tthis.DoWith(function(msg){return;},url); //throw away the result\n};\n\nAjah.prototype.SendFile = function (url,file,func){\n\tthis.log(\"SendFile() \"+file.name+\" to \"+url);\n\tthis.upload.push({func: func, url:  url, file: file});\n\twindow.setTimeout(function(){ajah.processWaiting();},1);\n};\n\n\nAjah.prototype.SelfTest = function (url){\n\tfunction paint(msg){\n\t\tLogDiv(\"ajah_test\",\"<pre>\"+msg+\"</pre>\");\n\t}\n\n\tfunction done(msg){\n\t\tLogDiv(\"ajah_test\",\"<h3>AJAX Self Test END</h3>\");\n\t}\n\n\tthis.debug=true;\n\tif(this.id<5)LogDiv(\"ajah_test\",\"<h3>AJAX Self Test START</h3>\");\n\tthis.DoWith(paint, \"robots.txt\");\n\tthis.DoWith(paint, \"404.txt\");\n\tthis.DoWith(paint, url);\n\tthis.Send(url);\n\tthis.Send(url);\n\tthis.Send(url);\n\tthis.Send(url);\n\tthis.Send(url);\n\tthis.Send(url);\n\tthis.Send(url);\n\tthis.Send(url);\n\tthis.Send(url);\n\tthis.Send(url);\n\tthis.DoWith(paint, url);\n\tthis.DoWith(paint, url);\n\tthis.DoWith(paint, url);\n\tthis.DoWith(paint, url);\n\tthis.DoWith(paint, url);\n\tthis.DoWith(paint, url);\n\tif(this.id<10){\n\t\twindow.setTimeout(function(){ajah.SelfTest(url);},100+this.id*50);\n\t}else{\n\t\tthis.DoWith(done, \"index.php\");\n\t}\n};\n\n\n////////////////////////////////////////////////////////////////////////////////////\n////////////////////////////////////////////////////////////////////////////////////\n////////////////////////////////////////////////////////////////////////////////////\n//AJAX Singleton\n\nvar ajah;\najah = new Ajah();\n\nexport default ajah;\n\n","import $ from 'jquery'\nimport Util from './util'\nimport ajah from './ajah'\n\n/**\n * --------------------------------------------------------------------------\n * Bootstrap (v4.1.3): updateWith.js\n * Licensed under MIT (https://github.com/twbs/bootstrap/blob/master/LICENSE)\n * --------------------------------------------------------------------------\n */\n\nconst UpdateWith = (($) => {\n  /**\n   * ------------------------------------------------------------------------\n   * Constants\n   * ------------------------------------------------------------------------\n   */\n\n  const NAME               = 'updateWith'\n  const VERSION            = '4.1.3'\n  const DATA_KEY           = 'lc.updateWith'\n  const EVENT_KEY          = `.${DATA_KEY}`\n  const DATA_API_KEY       = '.data-api'\n  const JQUERY_NO_CONFLICT = $.fn[NAME]\n\n  const Default = {\n    url          : '',\n    params       : false,\n    scrollOffset : -14,\n    spinner      : true,\n    scrollTo     : true\n  }\n\n  const DefaultType = {\n    url          : 'string',\n    params       :'(boolean|string)',\n    scrollOffset : 'number',\n    spinner      : 'boolean',\n    scrollTo     : 'boolean'\n  }\n\n  const Selector = {\n    DATA_TOGGLE : '[data-toggle=\"updateWith\"]'\n  }\n\n  const Event = {\n    HIDE              : `hide${EVENT_KEY}`,\n    HIDDEN            : `hidden${EVENT_KEY}`,\n    SHOW              : `show${EVENT_KEY}`,\n    SHOWN             : `shown${EVENT_KEY}`,\n    CLICK_DATA_API    : `click${EVENT_KEY}${DATA_API_KEY}`\n  }\n\n  const ClassName = {\n    FADE               : 'fade',\n    SHOW               : 'show'\n  }\n\n  /**\n   * ------------------------------------------------------------------------\n   * Class Definition\n   * ------------------------------------------------------------------------\n   */\n\n  class UpdateWith {\n    constructor(element, config) {\n      this._config              = this._getConfig(config)\n      this._element             = element\n      this._isShown             = true\n      this.that                 = $(`#${element.id}`)\n      this._ajax()\n    }\n\n    // Getters\n\n    static get VERSION() {\n      return VERSION\n    }\n\n    static get Default() {\n      return Default\n    }\n\n    // Public\n\n    toggle(relatedTarget) {\n      return this._isShown ? this.hide() : this.show(relatedTarget)\n    }\n\n    show(relatedTarget) {\n      if (this._isTransitioning || this._isShown) {\n        return\n      }\n\n      if ($(this._element).hasClass(ClassName.FADE)) {\n        this._isTransitioning = true\n      }\n\n      const showEvent = $.Event(Event.SHOW, {\n        relatedTarget\n      })\n\n      $(this._element).trigger(showEvent)\n\n      if (this._isShown || showEvent.isDefaultPrevented()) {\n        return\n      }\n\n      this._isShown = true\n    }\n\n    hide(event) {\n      if (event) {\n        event.preventDefault()\n      }\n\n      if (this._isTransitioning || !this._isShown) {\n        return\n      }\n\n      const hideEvent = $.Event(Event.HIDE)\n\n      $(this._element).trigger(hideEvent)\n\n      if (!this._isShown || hideEvent.isDefaultPrevented()) {\n        return\n      }\n\n      this._isShown = false\n      const transition = $(this._element).hasClass(ClassName.FADE)\n\n      if (transition) {\n        this._isTransitioning = true\n      }\n\n      $(this._element).removeClass(ClassName.SHOW)\n\n      if (transition) {\n        const transitionDuration  = Util.getTransitionDurationFromElement(this._element)\n\n        $(this._element)\n          .one(Util.TRANSITION_END, (event) => this._hideUpdateWith(event))\n          .emulateTransitionEnd(transitionDuration)\n      } else {\n        this._hideUpdateWith()\n      }\n    }\n\n    dispose() {\n      $.removeData(this._element, DATA_KEY)\n\n      $(window, document, this._element, this._backdrop).off(EVENT_KEY)\n\n      this._config              = null\n      this._element             = null\n      this._isShown             = null\n    }\n\n    // Private\n\n    _getConfig(config) {\n      config = {\n        ...Default,\n        ...config\n      }\n      Util.typeCheckConfig(NAME, config, DefaultType)\n      return config\n    }\n\n    _ajax() {\n      const spinner = '<div class=\"col w-100 p-4\"><div class=\"progress\"><div class=\"progress-bar progress-bar-striped bg-secondary progress-bar-animated p-4\" role=\"progressbar\" style=\"width: 100%\" aria-valuenow=\"100\" aria-valuemin=\"0\" aria-valuemax=\"100\"></div></div></div>'\n      const scroll = 618\n      const tweak = 206\n      const now = 1\n      const elementTop = this.that.offset().top\n      const elementBottom = this.that.offset().top + this.that.outerHeight()\n      const screenBottom = $(window).scrollTop() + $(window).innerHeight()\n      const screenTop = $(window).scrollTop()\n\n\n      // Pop in the spinner\n      const showSpinner = () => {\n        if (this._config.spinner) {\n          this.that.hide(tweak)\n          window.setTimeout(() => {\n            this.that.html(spinner)\n            this.that.show(tweak)\n\n\n            if (screenBottom > elementTop && screenTop < elementBottom) {\n            // the spinner is already visible, don't scroll yet\n\n            } else if (this._config.scrollTo) {\n            // the spinner is not visible, give feedback and show it\n              $('html').animate({\n                scrollTop:this.that.offset().top + this._config.scrollOffset\n              }, scroll)\n            }\n          }, tweak)\n        }\n      }\n      window.setTimeout(showSpinner, now)\n\n      const doFetch = () => {\n        const painter = (text) => {\n          this.that.hide()\n          this.that.html(text)\n          this.that.show(tweak)\n          // Make it visible\n          if (this._config.scrollTo) {\n            $('html').animate({\n              scrollTop:this.that.offset().top + this._config.scrollOffset\n            }, scroll)\n          }\n        }\n\n        if (this._config.params !== false) {\n          ajah.DoWithPost(painter, this._config.url, this._config.params)\n        } else {\n          ajah.DoWith(painter, this._config.url)\n        }\n      }\n      window.setTimeout(doFetch, scroll)\n    }\n\n\n    _showElement(relatedTarget) {\n      const transition = $(this._element).hasClass(ClassName.FADE)\n\n      if (!this._element.parentNode ||\n         this._element.parentNode.nodeType !== Node.ELEMENT_NODE) {\n        // Don't move updateWith's DOM position\n        document.body.appendChild(this._element)\n      }\n\n      this._element.style.display = 'block'\n      this._element.removeAttribute('aria-hidden')\n      this._element.scrollTop = 0\n\n      if (transition) {\n        Util.reflow(this._element)\n      }\n\n      $(this._element).addClass(ClassName.SHOW)\n\n      const shownEvent = $.Event(Event.SHOWN, {\n        relatedTarget\n      })\n\n      const transitionComplete = () => {\n        this._isTransitioning = false\n        $(this._element).trigger(shownEvent)\n      }\n\n      if (transition) {\n        const transitionDuration  = Util.getTransitionDurationFromElement(this._element)\n\n        $(this._dialog)\n          .one(Util.TRANSITION_END, transitionComplete)\n          .emulateTransitionEnd(transitionDuration)\n      } else {\n        transitionComplete()\n      }\n    }\n\n    _hideUpdateWith() {\n      this._element.style.display = 'none'\n      this._element.setAttribute('aria-hidden', true)\n      this._isTransitioning = false\n    }\n\n    // Static\n\n    static _jQueryInterface(config, relatedTarget) {\n      return this.each(function () {\n        let data = $(this).data(DATA_KEY)\n        const _config = {\n          ...Default,\n          ...$(this).data(),\n          ...typeof config === 'object' && config ? config : {}\n        }\n\n        // Always start with a new object\n        data = new UpdateWith(this, _config)\n        $(this).data(DATA_KEY, data)\n\n        if (typeof config === 'string') {\n          if (typeof data[config] === 'undefined') {\n            throw new TypeError(`No method named \"${config}\"`)\n          }\n          data[config](relatedTarget)\n        } else if (_config.show) {\n          data.show(relatedTarget)\n        }\n      })\n    }\n  }\n\n  /**\n   * ------------------------------------------------------------------------\n   * Data Api implementation\n   * ------------------------------------------------------------------------\n   */\n\n  $(document).on(Event.CLICK_DATA_API, Selector.DATA_TOGGLE, function (event) {\n    let target\n    const selector = Util.getSelectorFromElement(this)\n\n    if (selector) {\n      target = document.querySelector(selector)\n    }\n\n    const config = $(target).data(DATA_KEY)\n      ? 'toggle' : {\n        ...$(target).data(),\n        ...$(this).data()\n      }\n\n    if (this.tagName === 'A' || this.tagName === 'AREA') {\n      event.preventDefault()\n    }\n\n    const $target = $(target).one(Event.SHOW, (showEvent) => {\n      if (showEvent.isDefaultPrevented()) {\n        // Only register focus restorer if updateWith will actually get shown\n        return\n      }\n\n      $target.one(Event.HIDDEN, () => {\n        if ($(this).is(':visible')) {\n          this.focus()\n        }\n      })\n    })\n\n    UpdateWith._jQueryInterface.call($(target), config, this)\n  })\n\n  /**\n   * ------------------------------------------------------------------------\n   * jQuery\n   * ------------------------------------------------------------------------\n   */\n\n  $.fn[NAME] = UpdateWith._jQueryInterface\n  $.fn[NAME].Constructor = UpdateWith\n  $.fn[NAME].noConflict = function () {\n    $.fn[NAME] = JQUERY_NO_CONFLICT\n    return UpdateWith._jQueryInterface\n  }\n\n  return UpdateWith\n})($)\n\nexport default UpdateWith\n"],"names":["arr","forEach","item","hasOwnProperty","Object","defineProperty","configurable","enumerable","writable","value","remove","parentNode","removeChild","Element","prototype","CharacterData","DocumentType","Ajah","debug","waiting","Array","upload","uploadActive","active","max_active","intervalID","id","log","msg","ajah","console","length","stopMonitor","window","clearInterval","$","css","startMonitor","setInterval","processWaiting","aInitialized","finish","url","val","from","i","splice","processSO","raw","parser","DOMParser","html","parseFromString","newSO","oldSO","innerHTML","document","getElementById","getXmlHttpObject","xmlHttp","XMLHttpRequest","e1","ActiveXObject","e2","parseURL","a","createElement","href","source","protocol","replace","host","hostname","port","query","search","params","ret","seg","split","len","s","file","pathname","match","hash","path","relative","segments","appendId","out","cache_hack","parts","session_override","Math","random","request","shift","push","onreadystatechange","content","readyState","status","responseText","func","open","setRequestHeader","send","XHR","name","inQueue","j","k","Busy","DoWith","setTimeout","DoWithPost","Send","SendFile","SelfTest","paint","LogDiv","done","UpdateWith","NAME","VERSION","DATA_KEY","EVENT_KEY","DATA_API_KEY","JQUERY_NO_CONFLICT","fn","Default","scrollOffset","spinner","scrollTo","DefaultType","Selector","DATA_TOGGLE","Event","HIDE","HIDDEN","SHOW","SHOWN","CLICK_DATA_API","ClassName","FADE","element","config","_config","_getConfig","_element","_isShown","that","_ajax","toggle","relatedTarget","hide","show","_isTransitioning","hasClass","showEvent","trigger","isDefaultPrevented","event","preventDefault","hideEvent","transition","removeClass","transitionDuration","Util","getTransitionDurationFromElement","one","TRANSITION_END","_hideUpdateWith","emulateTransitionEnd","dispose","removeData","_backdrop","off","typeCheckConfig","scroll","tweak","now","elementTop","offset","top","elementBottom","outerHeight","screenBottom","scrollTop","innerHeight","screenTop","showSpinner","animate","doFetch","painter","text","_showElement","nodeType","Node","ELEMENT_NODE","body","appendChild","style","display","removeAttribute","reflow","addClass","shownEvent","transitionComplete","_dialog","setAttribute","_jQueryInterface","each","data","TypeError","on","target","selector","getSelectorFromElement","querySelector","tagName","$target","is","focus","call","Constructor","noConflict"],"mappings":"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"}